<link
  href="https://fonts.googleapis.com/icon?family=Material+Icons"
  rel="stylesheet"
/>
<div fxLayoutAlign="center center" fxLayout="column">
  <h3>Try to connect {{ gameData.gameConnects }}</h3>
  <!-- <h2>Screen : {{screenWidth}}x{{screenHeight}}</h2> -->

  <!-- Form  -->

  <form
    fxFlex="60"
    class="myForm"
    fxLayoutGap="8px"
    fxLayoutAlign="center center"
    [formGroup]="gameDetails"
    fxLayout="row"
  >
    <mat-form-field fxFlex.xs="15" fxFlex="10" appearance="outline">
      <mat-label>Rows:</mat-label>
      <input type="number" matInput formControlName="gameRow" #rows />
    </mat-form-field>

    <mat-form-field fxFlex.xs="15" fxFlex="10" appearance="outline">
      <mat-label>Columns:</mat-label>
      <input type="number" matInput formControlName="gameCol" />
    </mat-form-field>

    <mat-form-field fxFlex.xs="15" fxFlex="10" appearance="outline">
      <mat-label>Connects:</mat-label>
      <input type="number" matInput formControlName="gameConnects" />
    </mat-form-field>
    <span fxFlex="15" fxFlex.xs="15">
      <button
        class="configure-btn"
        color="primary"
        mat-raised-button
        [disabled]="IsConfigure()"
        (click)="disp()"
        type="submit"
      >
        Configure
      </button>
    </span>
  </form>

  <div fxFlex="100" class="turn-area">
    <h4
      fxFlex="100"
      [class]="getPlayerColor()"
      *ngIf="
        board.count <
          board.boardContent.length * board.boardContent[0].length &&
        !board.currentWinerIx
      "
    >
      Player {{ playerNames[board.currentPlayerIx] }} Turn
    </h4>
  </div>

  <!-- Table Grid  -->

  <div
    *ngIf="IsGridMode"
    ngStyle.gt-md="width: 30%; border: 2px solid black"
    style="width: 95%; border: 2px solid blue"
    class="matGridListArea"
  >
    <div>
      <div *ngFor="let r of board.boardContent; let i = index">
        <mat-grid-list
          [cols]="board.boardContent[0].length"
          rowHeight="1:1"
          gutterSize="0px"
        >
          <mat-grid-tile
            *ngFor="let c of board.boardContent[i]; let j = index"
            (click)="board.Myset(i, j)"
            (mouseover)="mouseEnter(i, j)"
            [class]="getStyle(i, j)"
            >{{ getPlayerName(i, j) }}</mat-grid-tile
          >
        </mat-grid-list>
      </div>
    </div>
  </div>

  <div class="gameTable">
    <table *ngIf="!IsGridMode">
      <tbody>
        <tr
          fxLayoutAlign="center center"
          *ngFor="let r of board.boardContent; let i = index"
        >
          <td
            (mouseleave)="mouseLeave()"
            [style]="tdStyle"
            *ngFor="let c of board.boardContent[i]; let j = index"
            (click)="board.Myset(i, j)"
            (mouseover)="mouseEnter(i, j)"
            [class]="getStyle(i, j)"
          >
            {{ getPlayerName(i, j) }}
          </td>
        </tr>
      </tbody>
    </table>

    <div class="mat-grid-list"></div>

    <!-- table ends -->
    <div class="WinnerArea">
      <div
        class="winner winner-o"
        *ngIf="board.currentWinerIx > 0 && getResult() === 'o'"
      >
        The Winer is {{ getResult() }}
      </div>
      <div
        class="winner winner-x"
        *ngIf="board.currentWinerIx > 0 && getResult() === 'x'"
      >
        The Winer is {{ getResult() }}
      </div>
      <div
        class="winner draw"
        *ngIf="
          board.count >=
            board.boardContent.length * board.boardContent[0].length &&
          !board.currentWinerIx
        "
      >
        The match is Draw
      </div>
    </div>
    <div class="function-btn">
      <button
        color="warn"
        (click)="changeAudio()"
        mat-icon-button
        aria-label="mode"
      >
        <mat-icon>{{
          board.IsAudioEnable ? "volume_up" : "volume_off"
        }}</mat-icon>
      </button>
      <button
        [disabled]="board.count > 0"
        [color]="myMode ? 'warn' : 'accent'"
        mat-raised-button
        (click)="changeMode()"
      >
        {{ myMode ? "Turn OFF Drop" : "Turn ON Drop" }}
      </button>
      <button
        mat-raised-button
        [disabled]="board.count < 1"
        (click)="
          board.reset(
            gameDetails.value.gameRow,
            gameDetails.value.gameCol,
            gameDetails.value.gameConnects
          )
        "
      >
        Restart
      </button>

      <button mat-raised-button (click)="changeGridMode()">
        {{ IsGridMode ? "Table View" : "Grid View" }}
      </button>

      <button mat-raised-button (click)="getApiCall()">Get Api Call</button>
    </div>
    <!-- Demo Comment -->
  </div>
</div>
